<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design 111 Final Project</title>
    <link rel="stylesheet" href="../styles.css"></head>
<body>
    <script> 
        var value = 0;
        console.log(value);

        var colorSet1 =
        ['#E8E8E8', '#C4C4C4', '#A5A3A3', '#5A5A5A'];


        var colorSet2 =
        ['#6EB4F4', '#F8D24B', '#458277', '#FF9371'];


        var colorSet3 =
        ['#FF3D3D', '#FFE175', '#7FE2F8', '#7FD06B'];

        function setup() {
            createCanvas(1200, 900);
            stroke("white");
            background("white");
            strokeWeight(5);
        }


        var xCoords = [];
        var yCoords = [];

        let distance = 0;

        function compareRect(x, y, width, height){
            let numOfLoops = 0;
            for(let i = 0; i < xCoords.length; i++) {
                // console.log(xCoords[i]);
              
                distance = int(dist(xCoords[i], yCoords[i], 
                xCoords[i+1], yCoords[i+1]));

                // console.log("distance:", distance);
              
                if(distance > 300){
                    rect(x, y, width, height);
                }

                // else{
                //     console.log("FAILED", xCoords[i]);
                // }

                // numOfLoops++;
                // console.log(numOfLoops);
            }
        }

        function compareCircle(x, y, size){           
            let numOfLoops = 0;
            for(let i = 0; i < xCoords.length; i++) {
                // console.log(xCoords[i]);
              
                distance = int(dist(xCoords[i], yCoords[i], 
                xCoords[i+1], yCoords[i+1]));
                // console.log("distance:", distance);
                
                if(distance > 300){
                    ellipse(x, y, size);
                }
                // else{
                //     console.log("FAILED", xCoords[i]);
                // }

                // numOfLoops++;
                // console.log(numOfLoops);
            }
        }

        // array of all rectangle positions
        let rectCounter = 0;
        function randomRect() {
            // create bounds             
            let x = random(150, 700);
            let y = random(200, 300);

            let width = random(100, 500);
            let height = random(100, 500);
            
            xCoords.push(x);
            yCoords.push(y);

            if(rectCounter === 0){
                rect(x, y, width, height);
                rectCounter += 1;
            }
            else{
                compareRect(x, y, width, height);
                // console.log(counter);
                // rect((x + distance), (y + distance), width, height);
            }
            // console.log("x coordinates array", xCoords);
            // console.log("y coordinates array", yCoords);
        }

        let circleCounter = 0;

        function randomCircle() {
            let x = random(300, 800);
            let y = random(300, 700);
            let size = random(100, 400);
            // ellipse(x, y, size);

            xCoords.push(x);
            yCoords.push(y);

            if(circleCounter === 0){
                ellipse(x, y, size);
                circleCounter += 1;
            }
            else{
                compareCircle(x, y, size);
             }
        }

        function draw() {
            if(value === 0){
                clear();
                for( let i = 0;  i < 5; i++){
                    color1(); 
                    randomCircle();
                    
                    color1();
                    randomRect();
                }
                value += 1;
            }
            frameRate(0);
        }


        function color1() {
            fill(colorSet1[int(random(0, colorSet1.length))]);
        }

        function color2() {
            fill(colorSet2[int(random(0, colorSet2.length))]);
        }

        function color3() {
            fill(colorSet3[int(random(0, colorSet3.length))]);
        }
        

        function addBackground() { 
            fill("white");
            rect(0, 0, 1200, 900);
        }

        function keyPressed() {
            // User presses spacebar, redraw in same color
            if(keyCode === 32){     

                console.log(value);       
                if(value === 1){
                    clear();

                    addBackground();
                    
                    for( let i = 0;  i < 5; i++){
                        color1(); 
                        randomCircle();
                      
                        color1();
                        randomRect();
                    }
                }

                else if(value === 2){
                    clear();

                    addBackground();

                    for( let i = 0;  i < 5; i++){
                        color2(); 
                        randomCircle();
                                                
                        color2(); 
                        randomRect();
                    }
                }

                else if(value === 3){
                    clear();

                    addBackground();

                    for( let i = 0;  i < 5; i++){
                        color3(); 
                        randomCircle();
                                                
                        color3(); 
                        randomRect();
                    }
                }
                redraw();
            }

            if(keyCode === RIGHT_ARROW) {  
                value +=1;

                if(value === 1){
                    clear();
                    
                    addBackground();

                    for( let i = 0;  i < 5; i++){
                        color1();
                        randomCircle();
                                                
                        color1();
                        randomRect();
                    }
                    console.log(value);
                }

                else if(value === 2){
                    clear();

                    addBackground();

                    for( let i = 0;  i < 5; i++){
                        color2();
                        randomCircle();
                                                
                        color2();
                        randomRect();
                    }
                    console.log(value);
                }

                else if(value === 3){
                    clear();

                    addBackground();

                    for( let i = 0;  i < 5; i++){
                        color3();
                        randomCircle();
                                                
                        color3();
                        randomRect();
                    }
                    console.log(value);
                }       

                else{
                    value = 0;
                    clear();

                    addBackground();

                    for( let i = 0;  i < 5; i++){
                        color1();
                        randomCircle();
                                                
                        color1();
                        randomRect();
                    }
                    console.log(value);
                    value +=1;
                }
            }


            if(keyCode == ENTER){
                save("My Mosaic.jpg");
            }   
        }
       
    </script>

    <script src="https://cdn.jsdelivr.net/npm/p5@1.1.9/lib/p5.js"></script>
</body>
</html>